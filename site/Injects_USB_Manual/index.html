
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.2.11">
    
    
      
        <title>Injects USB Manual - Hackintosh Documents</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8c5ef100.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.9647289d.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#injects-usb-manual" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Hackintosh Documents" class="md-header__button md-logo" aria-label="Hackintosh Documents" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Hackintosh Documents
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Injects USB Manual
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Hackintosh Documents" class="md-nav__button md-logo" aria-label="Hackintosh Documents" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Hackintosh Documents
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        content
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Add_device-id_in_amd_kext/" class="md-nav__link">
        Add device-id vào amd kext
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Backup_and_Restore_with_Time_Machine/" class="md-nav__link">
        Backup and Restore with Time Machine
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Boot_Arguments/" class="md-nav__link">
        Boot Arguments
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Boot_without_USB_and_mount_partion_EFI/" class="md-nav__link">
        Boot không cần USB và mount phân vùng EFI
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Config_Laptop_Clarksfield_and_Arrandale/" class="md-nav__link">
        Config Laptop Clarksfield và Arrandale
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Control_Brightness_External_Display/" class="md-nav__link">
        Control Brightness cho External Display
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Control_Led_RGB/" class="md-nav__link">
        Control Led RGB
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Convert_Bootloader/" class="md-nav__link">
        Convert Bootloader
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../C%C3%A1ch%20x%C3%A1c%20%C4%91%E1%BB%8Bnh%20ph%E1%BA%A7n%20c%E1%BB%A9ng/" class="md-nav__link">
        Cách xác định phần cứng
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Disable_CFG-Clock/" class="md-nav__link">
        Disable CFG-Clock
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Disable_dGPU_Desktop/" class="md-nav__link">
        Disable dGPU Desktop
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Disable_dgpu_Laptop/" class="md-nav__link">
        Disable dgpu Laptop
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Emulated_NVRAM/" class="md-nav__link">
        Emulated NVRAM
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Enable_Trim_For_SSD/" class="md-nav__link">
        Enable Trim For SSD
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../External_Card_Reader/" class="md-nav__link">
        Fix Internal/External Card Reader
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Fake_CPU-ID/" class="md-nav__link">
        Fake CPU-ID
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Fix%20_for_slow_AMD_GPU/" class="md-nav__link">
        Fix for slow AMD GPU
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Fix_Backlight/" class="md-nav__link">
        Fix Backlight
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Fix_Connect_%28HDMI%29/" class="md-nav__link">
        Fix Connect (HDMI)
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Fix_Ethernet/" class="md-nav__link">
        Fix Ethernet
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Fix_HDMI_Audio/" class="md-nav__link">
        Fix HDMI Audio
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Fix_Hotkeys/" class="md-nav__link">
        Fix Hotkeys
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Fix_RTC_Manual/" class="md-nav__link">
        Fix RTC Manual
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Fix_RTC_write_issues/" class="md-nav__link">
        Fix RTC write issues
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Fix_Shutdown/" class="md-nav__link">
        Fix Shut down
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Fix_System_Clocks_on_HEDT/" class="md-nav__link">
        Fix System Clocks on HEDT
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Fix_WiFi_and_Bluetooth/" class="md-nav__link">
        Fix WiFi và Bluetooth
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Fix_darkwake/" class="md-nav__link">
        Fix darkwake
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Fix_iServices/" class="md-nav__link">
        Fix iServices
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Fix_keyboard_wake/" class="md-nav__link">
        Fix keyboard wake
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Fix_power_management/" class="md-nav__link">
        Fix power management
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Fix_sleep/" class="md-nav__link">
        Fix sleep
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Fix_trackpad/" class="md-nav__link">
        Fix trackpad
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Fixing_KASLR/" class="md-nav__link">
        Fixing KASLR
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../GPRW_UPRW_LANC/" class="md-nav__link">
        GPRW/UPRW/LANC
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Ghost_macos/" class="md-nav__link">
        Ghost macos
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Guide_dual_Boot/" class="md-nav__link">
        Hướng dẫn Dual Boot
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../HotPlug_Thunderbolt_3/" class="md-nav__link">
        HotPlug Thunderbolt 3
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Hotpatch_PTS_Wake_TTS/" class="md-nav__link">
        Hotpatch PTS Wake TTS
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Injects USB Manual
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Injects USB Manual
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#chuan-bi" class="md-nav__link">
    Chuẩn bị
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tao-kext" class="md-nav__link">
    Tạo Kext
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#truong-hop-ngoai-le-thu-1-dsdt-bi-thieu-port" class="md-nav__link">
    Trường hợp ngoại lệ thứ 1: DSDT bị thiếu Port
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#truong-hop-ngoai-le-thu-2-ten-cua-cac-port-bi-nham-hoac-chua-at-ten" class="md-nav__link">
    Trường hợp ngoại lệ thứ 2: Tên của các Port bị nhầm hoặc chưa đặt tên
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#truong-hop-ngoai-le-thu-3-co-2-method-xhc0" class="md-nav__link">
    Trường hợp ngoại lệ thứ 3: Có 2 Method XHC0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cach-1-dung-kext-voi-phuong-thuc-iopathmatch-khuyen-khich" class="md-nav__link">
    Cách 1: dùng Kext với phương thức IOPathMatch (khuyến khích)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cach-2-dung-ssdt" class="md-nav__link">
    Cách 2: Dùng SSDT
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Kernel_issue/" class="md-nav__link">
        Kernel issue
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Map_USB/" class="md-nav__link">
        Map USB
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../OpenCore_Legacy/" class="md-nav__link">
        OpenCore Legacy
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Patch_AMD_GPU/" class="md-nav__link">
        Patch Card đồ họa AMD
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Patch_DSDT_part_2/" class="md-nav__link">
        Patch DSDT Phần 2
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Patch_DSDT_part_3/" class="md-nav__link">
        Patch DSDT Phần 3
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Patch_DSDT_part_4/" class="md-nav__link">
        Patch DSDT phần 4
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Patch_GMA_GPU/" class="md-nav__link">
        Patch GMA GPU
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Patch_IGPU/" class="md-nav__link">
        Patch IGPU
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Patch_NVIDIA_GPU/" class="md-nav__link">
        Patch Card đồ họa NVIDIA
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Patch_SATA_Controller/" class="md-nav__link">
        Patch SATA Controller
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Patch_audio_with_AppleALC/" class="md-nav__link">
        Patch âm thanh với AppleALC
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Patch_audio_with_VoodooHDA/" class="md-nav__link">
        Patch audio với VoodooHDA
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Patch_dsdt_part_1/" class="md-nav__link">
        Patch dsdt phần 1
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Patch_pin/" class="md-nav__link">
        Patch pin
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Resize_EFI/" class="md-nav__link">
        Resize EFI
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../SIP_and_Gatekeeper/" class="md-nav__link">
        SIP và Gatekeeper
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../SLE_kext_in_bigsur/" class="md-nav__link">
        Cách sửa kext S/L/E trên bigsur
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../SSDT_recomend/" class="md-nav__link">
        SSDT recomend
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Scan_policy/" class="md-nav__link">
        Scan policy
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Some_error_in_bigsur/" class="md-nav__link">
        Một số lỗi ở xuất hiện ở macOS Big Sur
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Some_error_in_propertree/" class="md-nav__link">
        1 số lỗi ProperTree
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Turn_on_Backlight_Keyboard/" class="md-nav__link">
        Turn on Backlight Keyboard
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Update_macOS_and_Bootloader/" class="md-nav__link">
        Update macOS và Bootloader
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Use_SSDT-time_to_Prebuilt%20SSDT/" class="md-nav__link">
        Dùng SSDT-Time để Prebuilt SSDT
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../%5BEB%7C%23LOG%3AEXITBS%3ASTART%5D/" class="md-nav__link">
        [EB|#LOG:EXITBS:START]
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../add_boot_option_in_bios/" class="md-nav__link">
        Cách thêm Boot vào BIOS
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../creat_GUI/" class="md-nav__link">
        Tạo GUI
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../creat_online_usb_%28recovery%29/" class="md-nav__link">
        Cách tạo bộ cài online (recovery)
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../create_EFI_OpenCore/" class="md-nav__link">
        Cách tạo EFI OpenCore
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../create_EFI_Opencore_No_ACPI/" class="md-nav__link">
        Cách làm EFI Opencore No ACPI
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../create_offline_bootable_without_no_usb/" class="md-nav__link">
        Cách tạo bộ cài Offline khi không có USB
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../create_usb_offline/" class="md-nav__link">
        Cách tạo bộ cài offline
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../fake_CPU_Name%3Aigpu_name/" class="md-nav__link">
        Fake iGPU/ CPU Name
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../how_to_mod_bios/" class="md-nav__link">
        Cách mod bios
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../inject_all_hardware_properties/" class="md-nav__link">
        Cách inject toàn bộ thông tin phần cứng
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../learn_about_hackintosh/" class="md-nav__link">
        Tìm hiểu về Hackintosh
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../learn_about_to_hardware/" class="md-nav__link">
        Tìm hiểu chung về phần cứng
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../macOS_12_Monterey/" class="md-nav__link">
        macOS 12: Monterey
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../patch_connector_type_force_rgb%3AInject_EDID/" class="md-nav__link">
        Patch Connect Type/ Force RGB/ Inject EDID
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#chuan-bi" class="md-nav__link">
    Chuẩn bị
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tao-kext" class="md-nav__link">
    Tạo Kext
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#truong-hop-ngoai-le-thu-1-dsdt-bi-thieu-port" class="md-nav__link">
    Trường hợp ngoại lệ thứ 1: DSDT bị thiếu Port
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#truong-hop-ngoai-le-thu-2-ten-cua-cac-port-bi-nham-hoac-chua-at-ten" class="md-nav__link">
    Trường hợp ngoại lệ thứ 2: Tên của các Port bị nhầm hoặc chưa đặt tên
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#truong-hop-ngoai-le-thu-3-co-2-method-xhc0" class="md-nav__link">
    Trường hợp ngoại lệ thứ 3: Có 2 Method XHC0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cach-1-dung-kext-voi-phuong-thuc-iopathmatch-khuyen-khich" class="md-nav__link">
    Cách 1: dùng Kext với phương thức IOPathMatch (khuyến khích)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cach-2-dung-ssdt" class="md-nav__link">
    Cách 2: Dùng SSDT
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="injects-usb-manual">Injects USB Manual<a class="headerlink" href="#injects-usb-manual" title="Permanent link">&para;</a></h1>
<blockquote>
<p>Ở bài hướng dẫn này mình sẽ chỉ các bạn cách tạo ra 1 Kext Map USB cho riêng mình nghe có vẻ thú vị đúng ko nào (mình đã có 1 bài hướng dẫn Map USB bằng cách dùng Tool rồi nhé các bạn có thể xem <a href="https://heavietnam.ga/2021/09/29/vi-1map-usb-intel-and-amd/">tại đây</a>) và giờ bắt đầu thôi.</p>
</blockquote>
<h2 id="chuan-bi">Chuẩn bị<a class="headerlink" href="#chuan-bi" title="Permanent link">&para;</a></h2>
<ul>
<li>Tải IORegistryClone <a href="https://github.com/khronokernel/IORegistryClone/blob/master/ioreg-302.zip">tại đây</a>.</li>
<li>1 số tên Device USB Control.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>XHC
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>XHC0
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>XHC1
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>XHC2
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>XHCI
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>XHCX
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>AS43
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>PTXH // thường gặp ở các main amd
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>PTCP // thường gặp ở AsRock X399 
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>PXSX // đây là 1 tên thường gặp hãy kiểm tra kỹ xem nó có phải là bộ điều khiển usb không
</code></pre></div>
<h2 id="tao-kext">Tạo Kext<a class="headerlink" href="#tao-kext" title="Permanent link">&para;</a></h2>
<p>Ở đây mình sẽ hướng dẫn cho AMD Intel làm tương tự vì cùng 1 nguyên tắc hoạt động (với Intel các bạn sử dụng trên Kext USB-Inject-All).</p>
<p>B1: các bạn Search <code>XHC</code> trên IOReg và nhìn 1 danh sách sổ xuống tìm gốc của các thành phần ta được tên bộ điều khiển USB.</p>
<p><img alt="" src="https://dortania.github.io/OpenCore-Post-Install/assets/img/controller-name.65fee9c7.png" /></p>
<p>Ở đây ta có bộ điều khiển USB là PTXH (nếu các bạn có các bộ điều khiển trùng với nhau thì các bạn sẽ lấy hết tên của nó là PTXH@000000, phần này mình sẽ nói rõ hơn ở mục sau).</p>
<p>B2: Dump DSDT theo hướng dẫn <a href="https://heavietnam.ga/2021/09/29/xxvi-patch-dsdt-phan-1/">tại đây</a>.</p>
<p>B3: Các bạn mở DSDT lên và Search tên bộ điều khiển USB vừa xác định ở IOReg.</p>
<p><img alt="" src="https://dortania.github.io/OpenCore-Post-Install/assets/img/dsdt-1.9fd16334.png" /></p>
<p><img alt="" src="https://dortania.github.io/OpenCore-Post-Install/assets/img/dsdt-2.fcac4b17.png" /></p>
<p>Ở đây ta có thể thấy số Port trong IOReg đang bị thiếu tức macOS đang nhận thiếu Port trong DSDT là do Kext AppleUSBHostPlatformProperties nó chỉ tạo USB Map theo SMBios của Apple vì vây nên ta sẽ bị thiếu các Port USB để khắc phục các bạn sẽ tạo 1 Kext cho riêng mình (hoặc Map USB theo hướng dẫn <a href="https://heavietnam.ga/2021/09/29/vi-1map-usb-intel-and-amd/">tại đây</a>). Đầu tiên các bạn sẽ Download Kext mẫu <a href="https://github.com/dortania/OpenCore-Post-Install/blob/master/extra-files/AMD-USB-Map.kext.zip">tại đây</a> (đối với Intel thì các bạn sửa trên <a href="https://bitbucket.org/RehabMan/os-x-usb-inject-all/downloads/">USB-Inject-All</a>).</p>
<p>B4: Các bạn Click chuột phải chọn Show Package Contents.</p>
<p><img alt="" src="https://imgur.com/HutDs5k.png" /></p>
<p>B5: Các bạn mở file Info.plist bằng ProperTree (cách sử dụng ProperTree các bạn có thể xem hướng dẫn <a href="https://heavietnam.ga/2021/09/29/tim-hieu-ve-hackintosh/">tại đây</a>).</p>
<p><img alt="" src="https://imgur.com/QFPihWX.png" /></p>
<p><img alt="" src="https://imgur.com/hrz6KiI.png" /></p>
<p>Ở đây các bạn chú ý các mục sau:</p>
<ol>
<li>Các bạn sẽ sửa lại theo SMBios và bộ điều khiển USB.</li>
<li>Mục IONameMatch là tên bộ điều khiển USB.</li>
<li>Đối với 1 số bộ điều khiển USB (thường là PXSX sẽ dùng IOPathMatch thay cho IONameMatch | xem chi tiết ở mục dưới).</li>
<li>Port-Count là giá trị của Port cao nhất (VD như khi nãy ta có Port P022 có giá trị 0x16 cao nhất thì khi đưa vào Port Count nó sẽ là 16 00 00 00 00).</li>
<li>Port đây là mục các bạn sẽ làm việc chủ yếu để Add thêm các Port bị thiếu.</li>
<li>Mode ở mục này các bạn sẽ chỉnh về SMBios hiện tại đang sử dụng.</li>
</ol>
<p>B6: Các bạn sẽ tiến hành nhìn vào DSDT kết hợp IOReg để xác định Type dựa vào tên (thông thước 3 ký tự đầu của USB 3.0 sẽ trùng nhau và 2.0 cũng vậy)</p>
<p>B7: Tiến hành xác định giá trị Port các bạn sẽ dựa vào mục</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>Name (_ADR
</code></pre></div>
<p>để xác định giá trị Port. VD như ở đây mình có</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>Device (PO18)
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>   {
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>   Name (_ADR, 0x12) // _ADR: Address
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>   Name (_UPC, Package (0x04) // _UPC: USB Port Capabilities
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>      {
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>         Zero,
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>         0xFF,
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>         Zero,
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>         Zero
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>      })
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>   }
</code></pre></div>
<p>thì port P018 ta có giá trị Port là 0x12=1200000000 ta sẽ được (do ở trên IOReg ta có port P010 có usbconnector là 0x3 tức là 3.0 nên cũng trương tự với P018 | nhớ rằng USB 3.0 sẽ có 2 Port được xuất ra)</p>
<p><img alt="" src="https://dortania.github.io/OpenCore-Post-Install/assets/img/port-info.64852be6.png" /></p>
<p><strong>Lưu ý : 1 số DSDT mục</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>Name (_ADR
</code></pre></div>
<p><strong>sẽ bị ẩn đi do đó ta sẽ phải tự đọc DSDT. VD như ở đây mình có</strong></p>
<p><img alt="" src="https://imgur.com/cey13IE.png" /></p>
<p>Ta sẽ có PR3 là 0xFFFFFFF0.</p>
<h2 id="truong-hop-ngoai-le-thu-1-dsdt-bi-thieu-port">Trường hợp ngoại lệ thứ 1: DSDT bị thiếu Port<a class="headerlink" href="#truong-hop-ngoai-le-thu-1-dsdt-bi-thieu-port" title="Permanent link">&para;</a></h2>
<p>Đối với DSDT bị thiếu Port ta sẽ cần Remove tất cả các bộ điều khiển USB và để cho macOS tự khởi tạo dữ liệu bằng cách cho DSDT đã xóa device vào EFI -&gt; OC -&gt; ACPI (các bạn sẽ cần Convert định dạng DSDT sang .dsl <a href="https://heavietnam.ga/2021/09/29/xxvi-patch-dsdt-phan-1/">tại đây</a>)</p>
<p><img alt="" src="https://dortania.github.io/OpenCore-Post-Install/assets/img/dsdt-missing.fdae3b86.png" /></p>
<p>Ở đây ta thấy dsdt này thiếu các port usb như HS02, HS03, HS04, HS05,….</p>
<h2 id="truong-hop-ngoai-le-thu-2-ten-cua-cac-port-bi-nham-hoac-chua-at-ten">Trường hợp ngoại lệ thứ 2: Tên của các Port bị nhầm hoặc chưa đặt tên<a class="headerlink" href="#truong-hop-ngoai-le-thu-2-ten-cua-cac-port-bi-nham-hoac-chua-at-ten" title="Permanent link">&para;</a></h2>
<p>Đối với trường hợp này các bạn chỉ việc dựa vào DSDT và đổi tên hoặc đặt tên trong Kext của các bạn ở trên là được.</p>
<p>Before:</p>
<p><img alt="" src="https://dortania.github.io/OpenCore-Post-Install/assets/img/pre-map.29fe7763.png" /></p>
<p>Kext:</p>
<p><img alt="" src="https://dortania.github.io/OpenCore-Post-Install/assets/img/genirc-plist.47f64f03.png" /></p>
<p>Do ở đây có 2 bộ điều khiển USB nên mình dùng IOPathMatch.</p>
<p>After:</p>
<p><img alt="" src="https://dortania.github.io/OpenCore-Post-Install/assets/img/post-map.6b7c1e5e.png" /></p>
<h2 id="truong-hop-ngoai-le-thu-3-co-2-method-xhc0">Trường hợp ngoại lệ thứ 3: Có 2 Method XHC0<a class="headerlink" href="#truong-hop-ngoai-le-thu-3-co-2-method-xhc0" title="Permanent link">&para;</a></h2>
<p>Trường hợp này thường xảy ra trên bộ điều khiển USB PXSX.</p>
<h2 id="cach-1-dung-kext-voi-phuong-thuc-iopathmatch-khuyen-khich">Cách 1: dùng Kext với phương thức IOPathMatch (khuyến khích)<a class="headerlink" href="#cach-1-dung-kext-voi-phuong-thuc-iopathmatch-khuyen-khich" title="Permanent link">&para;</a></h2>
<p><img alt="" src="https://dortania.github.io/OpenCore-Post-Install/assets/img/iopathmatch.ce488cb3.png" /></p>
<p>Ở đây ta có thể thấy có 2 Device XHC0 ta có thể thấy mục XHC0@61000000 ở dưới mục XHC0 và là gốc của tất cả các mục trên nên ta sẽ lấy path của mục này là:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>IOService:/AppleACPIPlatformExpert/S0D1@0/AppleACPIPCI/D1C0@7,1/IOPP/XHC0@0,3/XHC0@61000000
</code></pre></div>
<p>(dựa vào vault củaport trên usb và ioreg để xme mục nào là bộ điều khiển usb ta sài thực sự)</p>
<p>Tiếp theo ta chỉ cần Add Path trên vào mục IOPathMatch.</p>
<p><img alt="" src="https://dortania.github.io/OpenCore-Post-Install/assets/img/path-match-config.1139f1d8.png" /></p>
<h2 id="cach-2-dung-ssdt">Cách 2: Dùng SSDT<a class="headerlink" href="#cach-2-dung-ssdt" title="Permanent link">&para;</a></h2>
<p>B1: các bạn tải SSDT <a href="https://github.com/dortania/OpenCore-Post-Install/blob/master/extra-files/SSDT-SHC0.dsl">tại đây</a>.</p>
<p>B2: Các bạn nhìn vào mục ACPI-Path trong bộ điều khiển USB đã xác định ở trên.</p>
<p><img alt="" src="https://dortania.github.io/OpenCore-Post-Install/assets/img/acpi-path.b5562f4f.png" /></p>
<p>Ta có thể thấy <code>IOACPIPlane:/_SB/PC00@0/RP05@1c0004/PXSX@0</code> có nghĩa là <code>SB.PC00.RP05.PXSX</code></p>
<p>B3: Ta sẽ chuyển các mục sau tương ứng sau bằng số liệu bạn lấy được trong IOReg tương tự như sau</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>External (_SB_.PCI0.GP13, DeviceObj) -&gt; External (_SB_.PC00.RP05, DeviceObj)
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>External (_SB_.PCI0.GP13.XHC0, DeviceObj) -&gt; External (_SB_.PC00.RP05.PXSX, DeviceObj)
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>Scope (\_SB.PCI0.GP13) -&gt; Scope (\_SB.PC00.RP05)
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>Scope (XHC0) -&gt; Scope (PXSX)
</code></pre></div>
<p><strong>Lưu ý: các này chỉ là Injects USB chủ yếu dành cho AMD và Gen 10 Intel sau khi làm theo các bạn phải Map lại USB bằng Hackintool</strong> theo hướng dẫn <a href="https://heavietnam.ga/2021/09/29/vi-1map-usb-intel-and-amd/">tại đây</a>.</p>
<p><strong>Source tham khảo: <a href="https://dortania.github.io/OpenCore-Post-Install/usb/amd-mapping/amd.html#amd-and-3rd-party-usb-mapping">USB Mapping | OpenCore Post-Install (dortania.github.io)</a></strong></p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../Hotpatch_PTS_Wake_TTS/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Hotpatch PTS Wake TTS" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Hotpatch PTS Wake TTS
            </div>
          </div>
        </a>
      
      
        
        <a href="../Kernel_issue/" class="md-footer__link md-footer__link--next" aria-label="Next: Kernel issue" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Kernel issue
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.748e2769.min.js"></script>
      
    
  </body>
</html>